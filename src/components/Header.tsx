import Link from "next/link";
import * as React from "react";
import { AuthContext, AUTH_ACTIONS } from "src/contexts/AuthContext";

const defaultProfilePic = (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="48.75"
    viewBox="0 0 48.75 48.75"
    height="48.75"
    version="1.0"
    className="w-full h-full"
  >
    <defs>
      <clipPath id="a">
        <path d="M 0 0 L 48.5 0 L 48.5 48.5 L 0 48.5 Z M 0 0" />
      </clipPath>
    </defs>
    <g clipPath="url(#a)" className="fill-base-content">
      <path d="M 24.375 0 C 23.578125 0 22.78125 0.0390625 21.984375 0.117188 C 21.191406 0.195312 20.402344 0.3125 19.621094 0.46875 C 18.835938 0.625 18.0625 0.816406 17.300781 1.050781 C 16.535156 1.28125 15.785156 1.550781 15.046875 1.855469 C 14.308594 2.160156 13.589844 2.5 12.882812 2.878906 C 12.179688 3.253906 11.496094 3.664062 10.832031 4.109375 C 10.167969 4.550781 9.527344 5.027344 8.910156 5.53125 C 8.292969 6.039062 7.703125 6.574219 7.140625 7.140625 C 6.574219 7.703125 6.039062 8.292969 5.53125 8.910156 C 5.027344 9.527344 4.550781 10.167969 4.109375 10.832031 C 3.664062 11.496094 3.253906 12.179688 2.878906 12.882812 C 2.5 13.589844 2.160156 14.308594 1.855469 15.046875 C 1.550781 15.785156 1.28125 16.535156 1.050781 17.300781 C 0.816406 18.0625 0.625 18.835938 0.46875 19.621094 C 0.3125 20.402344 0.195312 21.191406 0.117188 21.984375 C 0.0390625 22.78125 0 23.578125 0 24.375 C 0 25.171875 0.0390625 25.96875 0.117188 26.765625 C 0.195312 27.558594 0.3125 28.347656 0.46875 29.128906 C 0.625 29.914062 0.816406 30.6875 1.050781 31.449219 C 1.28125 32.214844 1.550781 32.964844 1.855469 33.703125 C 2.160156 34.441406 2.5 35.160156 2.878906 35.867188 C 3.253906 36.570312 3.664062 37.253906 4.109375 37.917969 C 4.550781 38.582031 5.027344 39.222656 5.53125 39.839844 C 6.039062 40.457031 6.574219 41.046875 7.140625 41.609375 C 7.703125 42.175781 8.292969 42.710938 8.910156 43.21875 C 9.527344 43.722656 10.167969 44.199219 10.832031 44.640625 C 11.496094 45.085938 12.179688 45.496094 12.882812 45.871094 C 13.589844 46.25 14.308594 46.589844 15.046875 46.894531 C 15.785156 47.199219 16.535156 47.46875 17.300781 47.699219 C 18.0625 47.933594 18.835938 48.125 19.621094 48.28125 C 20.402344 48.4375 21.191406 48.554688 21.984375 48.632812 C 22.78125 48.710938 23.578125 48.75 24.375 48.75 C 25.171875 48.75 25.96875 48.710938 26.765625 48.632812 C 27.558594 48.554688 28.347656 48.4375 29.128906 48.28125 C 29.914062 48.125 30.6875 47.933594 31.449219 47.699219 C 32.214844 47.46875 32.964844 47.199219 33.703125 46.894531 C 34.441406 46.589844 35.160156 46.25 35.867188 45.871094 C 36.570312 45.496094 37.253906 45.085938 37.917969 44.640625 C 38.582031 44.199219 39.222656 43.722656 39.839844 43.21875 C 40.457031 42.710938 41.046875 42.175781 41.609375 41.609375 C 42.175781 41.046875 42.710938 40.457031 43.21875 39.839844 C 43.722656 39.222656 44.199219 38.582031 44.640625 37.917969 C 45.085938 37.253906 45.496094 36.570312 45.871094 35.867188 C 46.25 35.160156 46.589844 34.441406 46.894531 33.703125 C 47.199219 32.964844 47.46875 32.214844 47.699219 31.449219 C 47.933594 30.6875 48.125 29.914062 48.28125 29.128906 C 48.4375 28.347656 48.554688 27.558594 48.632812 26.765625 C 48.710938 25.96875 48.75 25.171875 48.75 24.375 C 48.75 23.578125 48.710938 22.78125 48.632812 21.984375 C 48.554688 21.191406 48.4375 20.402344 48.28125 19.621094 C 48.125 18.835938 47.933594 18.0625 47.699219 17.300781 C 47.46875 16.535156 47.199219 15.785156 46.894531 15.046875 C 46.589844 14.308594 46.25 13.589844 45.871094 12.882812 C 45.496094 12.179688 45.085938 11.496094 44.640625 10.832031 C 44.199219 10.167969 43.722656 9.527344 43.21875 8.910156 C 42.710938 8.292969 42.175781 7.703125 41.609375 7.140625 C 41.046875 6.574219 40.457031 6.039062 39.839844 5.53125 C 39.222656 5.027344 38.582031 4.550781 37.917969 4.109375 C 37.253906 3.664062 36.570312 3.253906 35.867188 2.878906 C 35.160156 2.5 34.441406 2.160156 33.703125 1.855469 C 32.964844 1.550781 32.214844 1.28125 31.449219 1.050781 C 30.6875 0.816406 29.914062 0.625 29.128906 0.46875 C 28.347656 0.3125 27.558594 0.195312 26.765625 0.117188 C 25.96875 0.0390625 25.171875 0 24.375 0 Z M 24.375 12.1875 C 24.855469 12.1875 25.332031 12.234375 25.800781 12.328125 C 26.273438 12.421875 26.730469 12.558594 27.171875 12.742188 C 27.617188 12.929688 28.039062 13.152344 28.4375 13.417969 C 28.835938 13.6875 29.207031 13.988281 29.546875 14.328125 C 29.886719 14.667969 30.1875 15.039062 30.457031 15.4375 C 30.722656 15.835938 30.945312 16.257812 31.132812 16.703125 C 31.316406 17.144531 31.453125 17.601562 31.546875 18.074219 C 31.640625 18.542969 31.6875 19.019531 31.6875 19.5 C 31.6875 19.980469 31.640625 20.457031 31.546875 20.925781 C 31.453125 21.398438 31.316406 21.855469 31.132812 22.296875 C 30.945312 22.742188 30.722656 23.164062 30.457031 23.5625 C 30.1875 23.960938 29.886719 24.332031 29.546875 24.671875 C 29.207031 25.011719 28.835938 25.3125 28.4375 25.582031 C 28.039062 25.847656 27.617188 26.070312 27.171875 26.257812 C 26.730469 26.441406 26.273438 26.578125 25.800781 26.671875 C 25.332031 26.765625 24.855469 26.8125 24.375 26.8125 C 23.894531 26.8125 23.417969 26.765625 22.949219 26.671875 C 22.476562 26.578125 22.019531 26.441406 21.578125 26.257812 C 21.132812 26.070312 20.710938 25.847656 20.3125 25.582031 C 19.914062 25.3125 19.542969 25.011719 19.203125 24.671875 C 18.863281 24.332031 18.5625 23.960938 18.292969 23.5625 C 18.027344 23.164062 17.804688 22.742188 17.617188 22.296875 C 17.433594 21.855469 17.296875 21.398438 17.203125 20.925781 C 17.109375 20.457031 17.0625 19.980469 17.0625 19.5 C 17.0625 19.019531 17.109375 18.542969 17.203125 18.074219 C 17.296875 17.601562 17.433594 17.144531 17.617188 16.703125 C 17.804688 16.257812 18.027344 15.835938 18.292969 15.4375 C 18.5625 15.039062 18.863281 14.667969 19.203125 14.328125 C 19.542969 13.988281 19.914062 13.6875 20.3125 13.417969 C 20.710938 13.152344 21.132812 12.929688 21.578125 12.742188 C 22.019531 12.558594 22.476562 12.421875 22.949219 12.328125 C 23.417969 12.234375 23.894531 12.1875 24.375 12.1875 Z M 24.375 43.875 C 22.003906 43.875 19.710938 43.457031 17.496094 42.617188 C 15.28125 41.777344 13.285156 40.570312 11.511719 39 C 12.390625 38.222656 13.332031 37.53125 14.339844 36.921875 C 15.347656 36.316406 16.398438 35.804688 17.496094 35.390625 C 18.597656 34.972656 19.722656 34.660156 20.878906 34.449219 C 22.035156 34.238281 23.199219 34.132812 24.375 34.132812 C 25.550781 34.132812 26.714844 34.238281 27.871094 34.449219 C 29.027344 34.660156 30.152344 34.972656 31.253906 35.390625 C 32.351562 35.804688 33.402344 36.316406 34.410156 36.921875 C 35.417969 37.53125 36.359375 38.222656 37.238281 39 C 35.464844 40.570312 33.46875 41.777344 31.253906 42.617188 C 29.039062 43.457031 26.746094 43.875 24.375 43.875 Z M 24.375 43.875" />
    </g>
  </svg>
);

const Header: React.FC = () => {
  const { state: AuthState, dispatch } = React.useContext(AuthContext);

  const handleLogout = () => {
    if (dispatch) {
      dispatch({ type: AUTH_ACTIONS.LOGOUT });
    }
  };

  return (
    <div className="flex py-3 items-center border-b border-base-100">
      <div>
        <h1 className="text-4xl tracking-wider">Britjobs</h1>
      </div>
      <div className="flex gap-2 ml-auto">
        {!AuthState.isLogedin && (
          <>
            <Link href="auth/login" passHref>
              <button className="btn btn-primary">Login</button>
            </Link>
            <Link href="auth/register" passHref>
              <button className="btn">Register</button>
            </Link>
          </>
        )}
        {AuthState.isLogedin && (
          <>
            <div className="dropdown dropdown-end">
              <button tabIndex={0} className="btn btn-circle p-0 bg-base-100">
                {defaultProfilePic}
              </button>
              <ul
                tabIndex={0}
                className="p-2 shadow menu dropdown-content bg-base-300 rounded-box w-52"
              >
                <li>
                  <a>Item 1</a>
                </li>
                <li>
                  <a>Item 2</a>
                </li>
                <li>
                  <a onClick={() => handleLogout()}>Logout</a>
                </li>
              </ul>
            </div>
          </>
        )}
      </div>
    </div>
  );
};

export default Header;
